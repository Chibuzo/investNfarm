extends layout 

block content
    .container-fluid.primary-bg
        .row.pt-4
            .col.text-center
                if newUser 
                    h3.mt-5 Sign Up Successful 
                else
                    h3.mt-5 Sign Up
                    p.mb-5 Choose from over 20 investment portfolios with high ROI
        .row 
            .col
                .container
                    .row.mb-4.px-5 
                        .col
                            if newUser 
                                .alert.alert-success.text-center.mt-4
                                    i.fa.fa-check-circle.fa-4x
                                    br/ 
                                    | Thank you for signing up with Invest"N"Farm. 
                                    br/ A mail has been sent to you to verify your email address
                            else
                                form(action="/signup" method="post")#signupForm
                                    .row.gx-5
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            input.form-control(type="text" name="fullame" placeholder="Full name" aria-label="First name" required=true)
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            select.form-control(type="text" name="gender" placeholder="Gender" aria-label="Gender" required)
                                                option(value="") -- Select Gender --
                                                option(value="Female") Female
                                                option(value="Male") Male
                                    .row.gx-5
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            select.form-control(type="text" name="age_group" placeholder="" aria-label="" required)
                                                option(value="") -- Select Age Group --
                                                option(value="Female") (9 - 24) Gen Z
                                                option(value="Male") (25 - 40) Millennials
                                                option(value="") (41 - 56) Gen X
                                                option(value="") (57 - 66) Boomers II
                                                option(value="") (67 - 75) Boomers I
                                                option(value="") (76 - 93) Post War
                                                option(value="") (94 - 99) WW II
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            input.form-control(type="text" name="phone" placeholder="Phone Number" aria-label="Phone Number")
                                    .row.gx-5
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            input.form-control(type="email" name="email" placeholder="Email" aria-label="Email" required=true)
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            select.form-control(name="country" placeholder="Country" aria-label="Country" required)
                                                option(value="") -- Select Country --
                                                each country in countries 
                                                    option(value=`${country.country}`)= country.country
                                    .row.gx-5
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            input.form-control#password(type="password" name="password" placeholder="Password" aria-label="Password" required=true)
                                        .col-md-6.col-sm-12.col-xs-12.mb-3
                                            input.form-control#confirm_password(type="password" name="confirm_password" placeholder="Confirm Password" aria-label="Confirm Password" required=true)    
                                    .row.gy-3.justify-content-md-center.mb-2
                                        .col-md-6.d-grid.text-center
                                            br/ 
                                            .form-group.form-check 
                                                input.form-check-input#checkout-terms(type="checkbox")
                                                label.form-check-label(for="checkout-terms") I have read and agree to InvestNFarm 
                                                    a(target="_blank" href="/terms-and-conditions") Terms and Conditions *

                                            .alert.alert-danger.d-none

                                    .row.gy-3.justify-content-md-center.mb-5
                                        .col-md-4.d-grid 
                                            button.btn.btn-success.btn-lg.btn-block(type="submit") Register 
        .row.signup-bg 
            .col.text-center 
                .row.gy-3.justify-content-md-center.mb-5
                    .col-md-4.d-grid 
                        h3 OR 
                        br
                        button.btn.btn-success.btn-lg.btn-block.mt-2(type="button") Login With Google
                        button.btn.btn-success.btn-lg.btn-block.mt-2(type="button") Login With Facebook
                        button.btn.btn-success.btn-lg.btn-block.mt-2(type="button") Login With Apple Account

    script. 
        document.querySelector("#signupForm").addEventListener("submit", function(e) {
            if (document.querySelector("#checkout-terms").checked === false) {
                document.querySelector(".alert-danger").innerHTML = "<i class='fa fa-info-circle fa-lg'></i> &nbsp; You have to read and agree with the Terms & Conditions to continue";
                document.querySelector(".alert-danger").classList.remove("d-none");
                e.preventDefault();
                return false;
            }

            const password = document.querySelector("#password").value;
            const confirm_password = document.querySelector("#confirm_password").value;

            if (password != confirm_password) {
                e.preventDefault();
                alert("Paswword doesn't match!");
                document.querySelector("#confirm_password").focus();
            }
            return false;
        });            

